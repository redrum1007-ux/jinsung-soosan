<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì§„ì„±ë„¤ì´ì²˜í‘¸ë“œ - ë°”ë‹¤ì˜ ì‹ ì„ í•¨ì„ ì‹íƒìœ¼ë¡œ</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="mobile.css">
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;700&display=swap" rel="stylesheet">
    <!-- íŒì—… ê³µì§€ ìŠ¤í¬ë¦½íŠ¸ -->
    <script src="popup-notice.js" defer></script>
    <style>
        /* Hero Slider Styles */
        .hero-slider {
            position: relative;
            width: 100%;
            height: 500px;
            overflow: hidden;
            margin-bottom: 60px;
        }

        .slider-container {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.8s ease-in-out;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 10%;
        }

        .slide.active {
            opacity: 1;
            z-index: 1;
        }

        .slide-content {
            flex: 1;
            color: white;
            z-index: 2;
        }

        .slide-content h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .slide-content p {
            font-size: 1.3rem;
            margin-bottom: 30px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .slide-content .btn-primary {
            display: inline-block;
            padding: 15px 40px;
            background: white;
            color: var(--deep-blue);
            text-decoration: none;
            border-radius: 30px;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .slide-content .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .slide-image {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .slide-image img {
            max-width: 500px;
            max-height: 400px;
            object-fit: cover;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        /* Slider Buttons */
        .slider-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.9);
            color: #333;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .slider-btn:hover {
            background: white;
            transform: translateY(-50%) scale(1.1);
        }

        .slider-btn.prev {
            left: 20px;
        }

        .slider-btn.next {
            right: 20px;
        }

        /* Slider Dots */
        .slider-dots {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 10;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: all 0.3s;
        }

        .dot.active {
            background: white;
            width: 30px;
            border-radius: 6px;
        }

        /* Product Sections */
        .product-section {
            margin: 60px auto;
            max-width: 1200px;
            padding: 0 20px;
        }

        .section-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .section-header h2 {
            font-size: 2.5rem;
            color: var(--deep-blue);
            margin-bottom: 10px;
        }

        .section-header p {
            font-size: 1.1rem;
            color: #666;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
        }

        .product-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .product-card img {
            width: 100%;
            height: 250px;
            object-fit: cover;
        }

        .product-info {
            padding: 20px;
        }

        .product-info h4 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #333;
        }

        .product-info .price {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--deep-blue);
            margin-bottom: 15px;
        }

        .product-info .badge {
            display: inline-block;
            padding: 5px 12px;
            background: #ff6b6b;
            color: white;
            border-radius: 15px;
            font-size: 0.85rem;
            margin-left: 10px;
        }

        .product-info .add-cart {
            width: 100%;
            padding: 12px;
            background: var(--deep-blue);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .product-info .add-cart:hover {
            background: #1e3a5f;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .hero-slider {
                height: 400px;
            }

            .slide {
                flex-direction: column;
                padding: 40px 20px;
                text-align: center;
            }

            .slide-content h1 {
                font-size: 2rem;
            }

            .slide-content p {
                font-size: 1rem;
            }

            .slide-image {
                margin-top: 20px;
            }

            .slide-image img {
                max-width: 100%;
                max-height: 200px;
            }

            .slider-btn {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }

            .slider-btn.prev {
                left: 10px;
            }

            .slider-btn.next {
                right: 10px;
            }

            .section-header h2 {
                font-size: 2rem;
            }

            .product-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 15px;
            }
        }
    </style>
</head>

<body>
    <header>
        <div class="container">
            <h1 class="logo"><a href="index.html" style="text-decoration: none; color: inherit;">JINSUNG<span>NATURE FOOD</span></a></h1>
            <nav>
                <ul>
                    <li><a href="premium.html">í”„ë¦¬ë¯¸ì—„ ê±´ì–´ë¬¼</a></li>
                    <li><a href="gifts.html">ì„ ë¬¼ì„¸íŠ¸</a></li>
                    <li><a href="story.html">ì‚°ì§€ì§ì†¡ ìŠ¤í† ë¦¬</a></li>
                </ul>
            </nav>
            <div class="user-actions">
                <button class="icon-btn" onclick="location.href='search.html'">ğŸ”</button>
                <button class="icon-btn" onclick="location.href='login.html'">ğŸ‘¤</button>
                <button class="icon-btn" onclick="location.href='cart.html'">ğŸ›’ <span class="badge" id="cartCount">0</span></button>
            </div>
        </div>
    </header>

    <!-- Hero Slider -->
    <section class="hero-slider">
        <div class="slider-container">
            <!-- Slides will be loaded dynamically from localStorage -->
        </div>
        
        <!-- Slider Navigation -->
        <button class="slider-btn prev" onclick="changeSlide(-1)">â®</button>
        <button class="slider-btn next" onclick="changeSlide(1)">â¯</button>
        
        <!-- Slider Dots -->
        <div class="slider-dots">
            <!-- Dots will be generated dynamically -->
        </div>
    </section>

    <main class="container">
        <!-- Best Products Section -->
        <section class="product-section">
            <div class="section-header">
                <h2>ğŸ† ë² ìŠ¤íŠ¸ ìƒí’ˆ</h2>
                <p>ê³ ê°ë‹˜ë“¤ì´ ê°€ì¥ ë§ì´ ì°¾ëŠ” ì¸ê¸° ìƒí’ˆ</p>
            </div>
            <div class="product-grid" id="bestProductsGrid">
                <!-- Best products will be loaded dynamically -->
            </div>
        </section>

        <!-- New Products Section -->
        <section class="product-section">
            <div class="section-header">
                <h2>âœ¨ ì‹ ìƒí’ˆ</h2>
                <p>ì´ë²ˆ ì£¼ ìƒˆë¡­ê²Œ ì…ê³ ëœ ì‹ ì„ í•œ ìƒí’ˆ</p>
            </div>
            <div class="product-grid" id="newProductsGrid">
                <!-- New products will be loaded dynamically -->
            </div>
        </section>

        <!-- All Products Section -->
        <section class="product-section">
            <div class="section-header">
                <h2>ğŸ›’ ì „ì²´ ìƒí’ˆ</h2>
                <p>ì§„ì„±ë„¤ì´ì²˜í‘¸ë“œì˜ ëª¨ë“  ìƒí’ˆì„ ë§Œë‚˜ë³´ì„¸ìš”</p>
            </div>
            <div class="product-grid" id="allProductsGrid">
                <!-- All products will be loaded dynamically -->
            </div>
        </section>
    </main>

    <footer>
        <div class="container" style="max-width: 1200px;">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 40px; margin-bottom: 30px;">
                <!-- Company Info -->
                <div>
                    <h3 style="color: white; margin-bottom: 15px; font-size: 1.2rem;">ì§„ì„±ìˆ˜ì‚°(ìœ )</h3>
                    <p style="color: #e0e0e0; line-height: 1.8; margin: 0;">
                        ì‹ ì„ í•˜ê³  í’ˆì§ˆ ì¢‹ì€ ìˆ˜ì‚°ë¬¼ì„<br>
                        í•©ë¦¬ì ì¸ ê°€ê²©ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤.
                    </p>
                </div>
                
                <!-- Address -->
                <div>
                    <h3 style="color: white; margin-bottom: 15px; font-size: 1.2rem;">ğŸ“ ì°¾ì•„ê°€ëŠ” ê¸¸</h3>
                    <p style="color: #e0e0e0; line-height: 1.8; margin: 0;">
                        ì„œìš¸ì‹œ ì†¡íŒŒêµ¬ ê°€ë½ë™ 600ë²ˆì§€<br>
                        ë†ìˆ˜ì‚°ë¬¼ë„ë§¤ì‹œì¥<br>
                        ì¤‘ë„ë§¤ì¸ 93ë²ˆì§€ 101-102í˜¸<br>
                        ì„œ1ë¬¸
                    </p>
                </div>
                
                <!-- Hours -->
                <div>
                    <h3 style="color: white; margin-bottom: 15px; font-size: 1.2rem;">ğŸ• ìš´ì˜ì‹œê°„</h3>
                    <p style="color: #e0e0e0; line-height: 1.8; margin: 0;">
                        <strong>ì›”ìš”ì¼ ~ í† ìš”ì¼</strong><br>
                        ì˜¤ì „ 5ì‹œ ~ ì˜¤í›„ 3ì‹œ<br>
                        <strong style="color: #ff6b6b;">ì¼ìš”ì¼ íœ´ë¬´</strong>
                    </p>
                </div>
                
                <!-- Contact -->
                <div>
                    <h3 style="color: white; margin-bottom: 15px; font-size: 1.2rem;">ğŸ“ ì—°ë½ì²˜</h3>
                    <p style="color: #e0e0e0; line-height: 1.8; margin: 0;">
                        ëŒ€í‘œ: 0507-1338-7151<br>
                        ë§¤ì¥: 02-407-7151<br>
                        <a href="https://band.us/band/87997377" target="_blank" 
                           style="color: #4fc3f7; text-decoration: none; display: inline-block; margin-top: 10px;">
                            ğŸ“± ë„¤ì´ë²„ ë°´ë“œ ë°”ë¡œê°€ê¸° â†’
                        </a>
                    </p>
                </div>
            </div>
            
            <div style="border-top: 1px solid rgba(255,255,255,0.2); padding-top: 20px; text-align: center;">
                <p style="color: #b0b0b0; margin: 0;">&copy; 2026 ì§„ì„±ìˆ˜ì‚°(ìœ ) Jinsung Nature Food. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Hero Slider Functionality
        let currentSlideIndex = 0;
        let slideInterval;

        // Load slides from localStorage and render
        function loadAndRenderSlides() {
            const slides = JSON.parse(localStorage.getItem('heroSlides')) || [];
            const sliderContainer = document.querySelector('.slider-container');
            const dotsContainer = document.querySelector('.slider-dots');
            
            if (slides.length === 0) {
                // Show default message if no slides
                sliderContainer.innerHTML = '<div style="display: flex; justify-content: center; align-items: center; height: 100%; color: white; font-size: 2rem;">ìŠ¬ë¼ì´ë“œë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”</div>';
                dotsContainer.innerHTML = '';
                return;
            }
            
            // Render slides
            sliderContainer.innerHTML = slides.map((slide, index) => `
                <div class="slide ${index === 0 ? 'active' : ''}" style="background: linear-gradient(135deg, ${slide.colorStart} 0%, ${slide.colorEnd} 100%);">
                    <div class="slide-content">
                        <h1>${slide.title}</h1>
                        <p>${slide.description}</p>
                        <a href="${slide.buttonLink}" class="btn-primary">${slide.buttonText}</a>
                    </div>
                    <div class="slide-image">
                        ${slide.image ? `<img src="${slide.image}" alt="${slide.title}">` : ''}
                    </div>
                </div>
            `).join('');
            
            // Render dots
            dotsContainer.innerHTML = slides.map((_, index) => 
                `<span class="dot ${index === 0 ? 'active' : ''}" onclick="currentSlide(${index})"></span>`
            ).join('');
        }

        function showSlide(index) {
            const slides = document.querySelectorAll('.slide');
            const dots = document.querySelectorAll('.dot');
            
            if (slides.length === 0) return;
            
            if (index >= slides.length) currentSlideIndex = 0;
            if (index < 0) currentSlideIndex = slides.length - 1;
            
            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            
            slides[currentSlideIndex].classList.add('active');
            if (dots[currentSlideIndex]) {
                dots[currentSlideIndex].classList.add('active');
            }
        }

        function changeSlide(direction) {
            currentSlideIndex += direction;
            showSlide(currentSlideIndex);
            resetSlideInterval();
        }

        function currentSlide(index) {
            currentSlideIndex = index;
            showSlide(currentSlideIndex);
            resetSlideInterval();
        }

        function autoSlide() {
            const slides = document.querySelectorAll('.slide');
            if (slides.length > 0) {
                currentSlideIndex++;
                showSlide(currentSlideIndex);
            }
        }

        function resetSlideInterval() {
            clearInterval(slideInterval);
            const slides = document.querySelectorAll('.slide');
            if (slides.length > 1) {
                slideInterval = setInterval(autoSlide, 5000);
            }
        }

        // Load Products
        function loadProductsOnPage() {
            const products = JSON.parse(localStorage.getItem('products')) || [];
            
            // Filter best products (products with isHot flag or high sales)
            const bestProducts = products.filter(p => p.isHot).slice(0, 4);
            
            // Filter new products (most recently added, last 4)
            const newProducts = products.slice(-4).reverse();
            
            // All products
            const allProducts = products;
            
            // Render best products
            renderProductGrid('bestProductsGrid', bestProducts);
            
            // Render new products
            renderProductGrid('newProductsGrid', newProducts);
            
            // Render all products
            renderProductGrid('allProductsGrid', allProducts);
        }

        function renderProductGrid(containerId, products) {
            const container = document.getElementById(containerId);
            
            if (!products || products.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #999; padding: 40px;">ë“±ë¡ëœ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.</p>';
                return;
            }
            
            container.innerHTML = products.map(product => `
                <div class="product-card" onclick="location.href='product-detail.html?id=${product.id}'">
                    <img src="${product.image}" alt="${product.name}" onerror="this.src='https://via.placeholder.com/280x250?text=No+Image'">
                    <div class="product-info">
                        <h4>${product.name}</h4>
                        <p class="price">
                            â‚©${new Intl.NumberFormat('ko-KR').format(product.price)}
                            ${product.discount ? `<span class="badge">${product.discount}</span>` : ''}
                        </p>
                        <button class="add-cart" onclick="event.stopPropagation(); addToCart(${product.id})">ë‹´ê¸°</button>
                    </div>
                </div>
            `).join('');
        }

        function addToCart(productId) {
            const products = JSON.parse(localStorage.getItem('products')) || [];
            const product = products.find(p => p.id === productId);
            
            if (!product) {
                alert('ìƒí’ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            alert(`${product.name}ì´(ê°€) ì¥ë°”êµ¬ë‹ˆì— ë‹´ê²¼ìŠµë‹ˆë‹¤! ğŸ›’`);
        }

        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const badge = document.getElementById('cartCount');
            if (badge) {
                badge.textContent = totalItems;
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadAndRenderSlides();
            loadProductsOnPage();
            updateCartCount();
            
            // Start auto-sliding if there are multiple slides
            const slides = document.querySelectorAll('.slide');
            if (slides.length > 1) {
                slideInterval = setInterval(autoSlide, 5000);
            }
        });
    </script>
</body>

</html>