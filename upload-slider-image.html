<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° ìŠ¬ë¼ì´ë“œ ë“±ë¡</title>
    <style>
        body {
            font-family: 'Work Sans', sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f0f4f8;
        }
        .upload-area {
            border: 3px dashed #1e40af;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            background: white;
            margin-bottom: 30px;
        }
        input[type="file"] {
            display: none;
        }
        .upload-btn {
            padding: 15px 30px;
            background: #1e40af;
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            font-size: 1.1rem;
        }
        .preview {
            margin-top: 20px;
            display: none;
        }
        .preview img {
            max-width: 100%;
            border-radius: 10px;
        }
        .register-btn {
            padding: 15px 40px;
            background: #059669;
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            font-size: 1.2rem;
            margin-top: 20px;
        }
        .success {
            background: #10b981;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }
    </style>
</head>
<body>
    <h1 style="color: #1e40af;">ğŸ ì„ ë¬¼ì„¸íŠ¸ ìŠ¬ë¼ì´ë“œ ì´ë¯¸ì§€ ë“±ë¡</h1>
    
    <div class="upload-area">
        <h2>ì„ ë¬¼ì„¸íŠ¸ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ì„¸ìš”</h2>
        <input type="file" id="imageInput" accept="image/*">
        <button class="upload-btn" onclick="document.getElementById('imageInput').click()">
            ğŸ“ ì´ë¯¸ì§€ ì„ íƒí•˜ê¸°
        </button>
        <div class="preview" id="preview">
            <h3>ë¯¸ë¦¬ë³´ê¸°:</h3>
            <img id="previewImage" alt="ë¯¸ë¦¬ë³´ê¸°">
        </div>
    </div>

    <button class="register-btn" id="registerBtn" style="display: none;" onclick="registerSlider()">
        âœ… ìŠ¬ë¼ì´ë“œì— ë“±ë¡í•˜ê¸°
    </button>

    <div class="success" id="successMessage">
        <h2>âœ… ìŠ¬ë¼ì´ë“œê°€ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!</h2>
        <p>
            <a href="index.html" style="color: white; text-decoration: underline;">ë©”ì¸ í˜ì´ì§€ì—ì„œ í™•ì¸í•˜ê¸°</a>
            |
            <a href="admin-sliders.html" style="color: white; text-decoration: underline;">ê´€ë¦¬ í˜ì´ì§€ì—ì„œ ìˆ˜ì •í•˜ê¸°</a>
        </p>
    </div>

    <script>
        let imageBase64 = '';

        document.getElementById('imageInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;

            // íŒŒì¼ í¬ê¸° ì²´í¬ (5MB)
            if (file.size > 5 * 1024 * 1024) {
                alert('ì´ë¯¸ì§€ í¬ê¸°ëŠ” 5MB ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.');
                return;
            }

            // ì´ë¯¸ì§€ íƒ€ì… ì²´í¬
            if (!file.type.startsWith('image/')) {
                alert('ì´ë¯¸ì§€ íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
                return;
            }

            // Base64 ë³€í™˜
            const reader = new FileReader();
            reader.onload = function(event) {
                imageBase64 = event.target.result;
                
                // ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ
                document.getElementById('previewImage').src = imageBase64;
                document.getElementById('preview').style.display = 'block';
                document.getElementById('registerBtn').style.display = 'block';
            };
            reader.readAsDataURL(file);
        });

        function registerSlider() {
            if (!imageBase64) {
                alert('ì´ë¯¸ì§€ë¥¼ ë¨¼ì € ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }

            // ìŠ¬ë¼ì´ë“œ ë°ì´í„° ìƒì„±
            const newSlides = [
                {
                    id: Date.now(),
                    title: 'ë°”ë‹¤ì˜ ì‹ ì„ í•¨ì„ ê·¸ëŒ€ë¡œ',
                    description: 'ë§¤ì¼ ì•„ì¹¨ ì‚°ì§€ì—ì„œ ì§ì†¡ë˜ëŠ” ìµœê³ ê¸‰ í•´ì‚°ë¬¼',
                    buttonText: 'ì‹ ì„ í•œ í•´ì‚°ë¬¼ ë³´ê¸°',
                    buttonLink: 'premium.html',
                    colorStart: '#1e3a8a',
                    colorEnd: '#3b82f6',
                    image: 'https://images.unsplash.com/photo-1615141982883-c7ad0e69fd62?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'
                },
                {
                    id: Date.now() + 1,
                    title: 'ê±´ê°•í•œ ì„ ë¬¼, í”„ë¦¬ë¯¸ì—„ ì„¸íŠ¸',
                    description: 'ì •ì„±ê³¼ ê±´ê°•ì„ í•¨ê»˜ ì „í•˜ëŠ” íŠ¹ë³„í•œ ì„ ë¬¼',
                    buttonText: 'ì„ ë¬¼ì„¸íŠ¸ ë³´ëŸ¬ê°€ê¸°',
                    buttonLink: 'gifts.html',
                    colorStart: '#be123c',
                    colorEnd: '#f43f5e',
                    image: imageBase64  // ì—…ë¡œë“œí•œ ì´ë¯¸ì§€ ì‚¬ìš©
                }
            ];

            // ê¸°ì¡´ ìŠ¬ë¼ì´ë“œ ê°€ì ¸ì˜¤ê¸°
            let existingSlides = JSON.parse(localStorage.getItem('heroSlides')) || [];
            
            // ìƒˆ ìŠ¬ë¼ì´ë“œë¡œ êµì²´
            localStorage.setItem('heroSlides', JSON.stringify(newSlides));
            
            // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
            document.getElementById('successMessage').style.display = 'block';
            document.querySelector('.upload-area').style.display = 'none';
            document.getElementById('registerBtn').style.display = 'none';

            console.log('ìŠ¬ë¼ì´ë“œ ë“±ë¡ ì™„ë£Œ:', newSlides);
        }
    </script>
</body>
</html>
